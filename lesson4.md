

# 笔记（作业在下方）

### 大语言模型微调的理论和实践

#### 一、大语言模型微调概述

- **x tune微调**：介绍大语言模型微调的概念和本节内容。
- **微调范式**：讲解增量预训练和指令微调两种主要的微调范式。

#### 二、大模型微调工具箱x2

- **工具箱功能**：一键开始微调，适配多种微调算法和硬件。
- **轻量级特点**：x2的轻量级和快速训练的特点。
- **模型效果**：讨论模型组装后的效果。
- **对话模板**：对话模板的作用，以及训练中需要添加的起始符和结束符。

#### 三、X-Tuner工具加速训练和对话过程

- **GPU利用率**：使用pk pro max length提升GPU利用率。
- **内置加速方式**：介绍X Tuner内置的两种加速方式，flash attention和deep speed zero。
- **1.8B模型**：1.8B模型在X Tuner中的使用，以及其对显存的需求。

#### 四、多模态模型预测

- **多模态模型**：通过增加图像输入和处理来预测输出文本。
- **识图与生图**：多模态指的是识图而非生图，使用文本单模态大语言模型训练出image projector。
- **训练过程**：通过构造文本问题和图像输入数据对，使用L喇叭方案训练出image projector模型文件，增加视觉能力。

#### 五、X推微调步骤

- **微调步骤**：详细讲解微调的步骤，包括准备开发机、安装环境、准备数据集和选择配置文件等。
- **个人小助手微调**：通过X推完成个人小助手认知的微调。
- **数据集准备**：使用OpenAI数据集格式，重复同一句话生成数据集。

#### 六、BECULA PA13模型训练和转换

- **模型训练和转换**：如何使用BECULA PA13进行模型训练和转换。
- **CONFIG文件和权重文件**：提供了完整的CONFIG文件和权重文件。
- **对话测试**：讨论如何进行对话测试。

#### 数据格式和对话模板的重要性

- **标准化格式**：强调数据的标准化格式对于微调过程的重要性。
- **对话模板**：讨论对话模板在训练和对话过程中的作用。





# 作业

- xturner微调

![image-20240412235718189](lesson4.assets/image-20240412235718189.png)

模型转换

![image-20240413000149737](lesson4.assets/image-20240413000149737.png)

微调

![image-20240413173423550](lesson4.assets/image-20240413173423550.png)

![image-20240413174133118](lesson4.assets/image-20240413174133118.png)

微调助手

![image-20240413192523854](lesson4.assets/image-20240413192523854.png)

微调

![image-20240413205004540](lesson4.assets/image-20240413205004540.png)



多模态微调



![image-20240415144209698](lesson4.assets/image-20240415144209698.png)



微调前

![image-20240415145448519](lesson4.assets/image-20240415145448519.png)

微调后

![image-20240415150631990](lesson4.assets/image-20240415150631990.png)

自我认知模型部署







![image-20240423003758963](lesson4.assets/image-20240423003758963.png)

![image-20240423004010831](lesson4.assets/image-20240423004010831.png)

















​           
